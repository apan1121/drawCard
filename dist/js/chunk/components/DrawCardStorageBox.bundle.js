"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[943],{5991:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var r=a(3967),o={ref:"box",class:"modal",tabindex:"-1",role:"dialog","data-backdrop":"static","data-keyboard":"false"},n={class:"modal-dialog",role:"document"},l={class:"modal-content"},c={class:"modal-header"},d={class:"modal-title"},i=(0,r.createElementVNode)("i",{class:"fas fa-box-open"},null,-1),s={class:"modal-body"},m={class:"pb-2"},p={class:"draw-card-choose-list"},u=["onClick"],C=["onClick"],g=[(0,r.createElementVNode)("i",{class:"fas fa-trash-alt"},null,-1)],D={class:"pb-2"},w={key:1,class:"input-group input-group-lg mb-3"},h={class:"input-group-prepend"},v={id:"basic-addon2",class:"input-group-text"},f=["placeholder"],b={class:"input-group-append"},S=(0,r.createElementVNode)("hr",null,null,-1);var k=a(6247),y=a(2678),E=a(988),N=a(6300);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){x(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function x(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const $={components:{GoogleSupport:(0,r.defineAsyncComponent)((()=>a.e(703).then(a.bind(a,9252))))},filters:{},props:{},data:()=>({langPaths:["DrawCardStorage"],createDefaultDrawCardFlag:!1,DrawCardName:""}),computed:V({},(0,y.mapGetters)({drawCardChooseList:"drawCardChooseList",defaultConfig:"defaultConfig",defaultCardInfo:"defaultCardInfo"})),watch:{drawCardChooseList:{deep:!0,immediate:!0,handler(){this.drawCardChooseList.length>0?setTimeout((()=>{N(this.$refs.box).modal("show")}),10):setTimeout((()=>{N(this.$refs.box).modal("hide")}),10)}}},created(){},mounted(){N(this.$refs.box).bind("shown.bs.modal",(()=>{E.XD.mixpanel("DrawCardStorageOpen_click"),E.XD.gtag("event","DrawCardStorageOpen_click")})),N(this.$refs.box).bind("hidden.bs.modal",(()=>{E.XD.mixpanel("DrawCardStorageClose_click"),E.XD.gtag("event","DrawCardStorageClose_click")})),this.syncOldVersionData()},updated(){},unmounted(){},methods:V(V(V({},(0,y.mapActions)({})),(0,y.mapMutations)({chooseDrawCardFromStorage:"chooseDrawCardFromStorage",removeDrawCardFromStorage:"removeDrawCardFromStorage",createDefaultDrawCard:"createDefaultDrawCard",saveOldVerDataToStorage:"saveOldVerDataToStorage"})),{},{chooseDrawCard(e){var t=this.drawCardChooseList[e];E.XD.mixpanel("DrawCardStorageChoose_click",t),E.XD.gtag("event","DrawCardStorageChoose_click",t),this.chooseDrawCardFromStorage(t.key)},removeDrawCard(e){var t=this,a=t.drawCardChooseList[e],r="".concat(this.$t("DrawCardStorage.Notice.RemoveDrawEvent",{EventTitle:a.title}),'<br><div class="text-danger">').concat(this.$t("DrawCardStorage.Notice.RemoveDrawEventCantUndo"),"</div>");k.Z.confirm({title:this.$t("common.popup.Warning"),html:r,confirmButtonText:this.$t("common.Button.Confirm"),cancelButtonText:this.$t("common.Button.Cancel")},(()=>{t.removeDrawCardFromStorage(a.key),E.XD.mixpanel("DrawCardStorageActionRemove_click",a),E.XD.gtag("event","DrawCardStorageActionRemove_click",a)}),(()=>{}))},create(){var e={DrawCardName:this.DrawCardName};this.createDefaultDrawCard(e),E.XD.mixpanel("DrawCardStorageActionCreate_click",e),E.XD.gtag("event","DrawCardStorageActionCreate_click",e)},syncOldVersionData(){var e=E.Xb.get("drawCardsSetting",!1);e&&(this.saveOldVerDataToStorage(e),E.Xb.del("drawCardsSetting"))}})};const j=(0,a(4407).Z)($,[["render",function(e,t,a,k,y,E){var N=(0,r.resolveComponent)("google-support");return(0,r.openBlock)(),(0,r.createElementBlock)("div",o,[(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("div",c,[(0,r.createElementVNode)("h5",d,[i,(0,r.createTextVNode)(" "+(0,r.toDisplayString)(e.$t("DrawCardStorage.DrawCardList")),1)])]),(0,r.createElementVNode)("div",s,[(0,r.createElementVNode)("h6",m,(0,r.toDisplayString)(e.$t("DrawCardStorage.YouHaveEvent",{count:e.drawCardChooseList.length})),1),(0,r.createElementVNode)("div",p,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(e.drawCardChooseList,((t,a)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:a,class:"draw-card-choose-item mb-3"},[(0,r.createElementVNode)("div",{class:"draw-card-choose-text",onClick:e=>E.chooseDrawCard(a)},(0,r.toDisplayString)(t.title||e.$t("DrawCardStorage.EmptyTitle")),9,u),(0,r.createElementVNode)("div",{class:"draw-card-choose-del",onClick:e=>E.removeDrawCard(a)},g,8,C)])))),128))]),(0,r.createElementVNode)("h6",D,(0,r.toDisplayString)(e.$t("DrawCardStorage.OrCreateEvent")),1),!1===y.createDefaultDrawCardFlag?((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:0,type:"button",class:"btn btn-warning btn-lg btn-block",onClick:t[0]||(t[0]=e=>y.createDefaultDrawCardFlag=!0)},(0,r.toDisplayString)(e.$t("DrawCardStorage.CreateEvent")),1)):((0,r.openBlock)(),(0,r.createElementBlock)("div",w,[(0,r.createElementVNode)("div",h,[(0,r.createElementVNode)("span",v,(0,r.toDisplayString)(e.$t("DrawCardStorage.EventName")),1)]),(0,r.withDirectives)((0,r.createElementVNode)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>y.DrawCardName=e),type:"text",class:"form-control",placeholder:e.$t("DrawCardStorage.EventName")},null,8,f),[[r.vModelText,y.DrawCardName]]),(0,r.createElementVNode)("div",b,[(0,r.createElementVNode)("button",{class:"btn btn-info",type:"button",onClick:t[2]||(t[2]=function(){return E.create&&E.create(...arguments)})},(0,r.toDisplayString)(e.$t("DrawCardStorage.Create")),1)])])),S,(0,r.createVNode)(N)])])])],512)}]])}}]);