!function(t){function e(e){for(var n,o,s=e[0],d=e[1],c=e[2],u=0,f=[];u<s.length;u++)o=s[u],a[o]&&f.push(a[o][0]),a[o]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(t[n]=d[n]);for(l&&l(e);f.length;)f.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,s=1;s<i.length;s++){var d=i[s];0!==a[d]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},a={2:0},r=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/Users/apan1121/Documents/Web/drawCard/dist/assets";var s=window.webpackJsonp=window.webpackJsonp||[],d=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=d;r.push([365,0]),i()}({115:function(t,e,i){"use strict";var n,a=i(19),r=(n=a)&&n.__esModule?n:{default:n};i(116);var o=null;(0,r.default)("body").on("resizeImg",function(){clearTimeout(o),o=setTimeout(function(){(0,r.default)(".imgLiquidFill").imgLiquid()},50)})},116:function(t,e,i){"use strict";(function(t){
/*!
imgLiquid v0.9.944 / 03-05-2013
jQuery plugin to resize images to fit in a container.
Copyright (c) 2012 Alejandro Emparan (karacas) @krc_ale
Dual licensed under the MIT and GPL licenses
https://github.com/karacas/imgLiquid
**/
var e,i,n,a=a||{VER:"0.9.944"};a.bgs_Available=!1,a.bgs_CheckRunned=!1,a.injectCss=".imgLiquid img {visibility:hidden}",function(t){t.fn.extend({imgLiquid:function(e){this.defaults={fill:!0,verticalAlign:"center",horizontalAlign:"center",useBackgroundSize:!0,useDataHtmlAttr:!0,responsive:!0,delay:0,fadeInTime:0,removeBoxBackground:!0,hardPixels:!0,responsiveCheckTime:500,timecheckvisibility:500,onStart:null,onFinish:null,onItemStart:null,onItemFinish:null,onItemError:null},function(){if(!a.bgs_CheckRunned){a.bgs_CheckRunned=!0;var e=t('<span style="background-size:cover" />');t("body").append(e),function(){var t=e[0];if(t&&window.getComputedStyle){var i=window.getComputedStyle(t,null);i&&i.backgroundSize&&(a.bgs_Available="cover"===i.backgroundSize)}}(),e.remove()}}();var i=this;return this.options=e,this.settings=t.extend({},this.defaults,this.options),this.settings.onStart&&this.settings.onStart(),this.each(function(e){var n=i.settings,r=t(this),o=t("img:first",r);function s(){(n.responsive||o.data("imgLiquid_oldProcessed"))&&o.data("imgLiquid_settings")&&(n=o.data("imgLiquid_settings"),r.actualSize=r.get(0).offsetWidth+r.get(0).offsetHeight/1e4,r.sizeOld&&r.actualSize!==r.sizeOld&&c(),r.sizeOld=r.actualSize,setTimeout(s,n.responsiveCheckTime))}function d(){o.data("imgLiquid_error",!0),r.addClass("imgLiquid_error"),n.onItemError&&n.onItemError(e,r,o),l()}function c(){var t,i,a,s,d,c,u,f,p=0,v=0,m=r.width(),g=r.height();void 0===o.data("owidth")&&o.data("owidth",o[0].width),void 0===o.data("oheight")&&o.data("oheight",o[0].height),!n.fill&&o.data("owidth")<=m&&o.data("oheight")<=g?(t="auto",i="auto",a=o.data("owidth"),s=o.data("oheight")):n.fill===m/g>=o.data("owidth")/o.data("oheight")?(t="100%",i="auto",a=Math.floor(m),s=Math.floor(m*(o.data("oheight")/o.data("owidth")))):(t="auto",i="100%",a=Math.floor(g*(o.data("owidth")/o.data("oheight"))),s=Math.floor(g)),u=m-a,"left"===(d=n.horizontalAlign.toLowerCase())&&(v=0),"center"===d&&(v=.5*u),"right"===d&&(v=u),-1!==d.indexOf("%")&&(d=parseInt(d.replace("%",""),10))>0&&(v=u*d*.01),f=g-s,"top"===(c=n.verticalAlign.toLowerCase())&&(p=0),"center"===c&&(p=.5*f),"bottom"===c&&(p=f),-1!==c.indexOf("%")&&(c=parseInt(c.replace("%",""),10))>0&&(p=f*c*.01),n.hardPixels&&(t=a,i=s),o.css({width:t,height:i,"margin-left":Math.floor(v),"margin-top":Math.floor(p)}),o.data("imgLiquid_oldProcessed")||(o.fadeTo(n.fadeInTime,1),o.data("imgLiquid_oldProcessed",!0),n.removeBoxBackground&&r.css("background-image","none"),r.addClass("imgLiquid_nobgSize"),r.addClass("imgLiquid_ready")),n.onItemFinish&&n.onItemFinish(e,r,o),l()}function l(){e===i.length-1&&i.settings.onFinish&&i.settings.onFinish()}o.length?(o.data("imgLiquid_settings")?(r.removeClass("imgLiquid_error").removeClass("imgLiquid_ready"),n=t.extend({},o.data("imgLiquid_settings"),i.options)):n=t.extend({},i.settings,function(){var t={};if(i.settings.useDataHtmlAttr){var e=r.attr("data-imgLiquid-fill"),n=r.attr("data-imgLiquid-horizontalAlign"),o=r.attr("data-imgLiquid-verticalAlign");"true"!==e&&"false"!==e||(t.fill=Boolean("true"===e)),void 0===n||"left"!==n&&"center"!==n&&"right"!==n&&-1===n.indexOf("%")||(t.horizontalAlign=n),void 0===o||"top"!==o&&"bottom"!==o&&"center"!==o&&-1===o.indexOf("%")||(t.verticalAlign=o)}a.isIE&&i.settings.ieFadeInDisabled&&(t.fadeInTime=0);return t}()),o.data("imgLiquid_settings",n),n.onItemStart&&n.onItemStart(e,r,o),a.bgs_Available&&n.useBackgroundSize?function(){-1===r.css("background-image").indexOf(encodeURI(o.attr("src")))&&r.css({"background-image":'url("'+encodeURI(o.attr("src"))+'")'});r.css({"background-size":!n.fill&&o[0].width<=r.width()&&o[0].height<=r.height()?"auto":n.fill?"cover":"contain","background-position":(n.horizontalAlign+" "+n.verticalAlign).toLowerCase(),"background-repeat":"no-repeat"}),t("a:first",r).css({display:"block",width:"100%",height:"100%"}),t("img",r).css({display:"none"}),n.onItemFinish&&n.onItemFinish(e,r,o);r.addClass("imgLiquid_bgSize"),r.addClass("imgLiquid_ready"),l()}():function i(){if(o.data("oldSrc")&&o.data("oldSrc")!==o.attr("src")){var a=o.clone().removeAttr("style");return a.data("imgLiquid_settings",o.data("imgLiquid_settings")),o.parent().prepend(a),o.remove(),(o=a)[0].width=0,void setTimeout(i,10)}if(o.data("imgLiquid_oldProcessed"))return void c();o.data("imgLiquid_oldProcessed",!1);o.data("oldSrc",o.attr("src"));t("img:not(:first)",r).css("display","none");r.css({overflow:"hidden"});o.fadeTo(0,0).removeAttr("width").removeAttr("height").css({visibility:"visible","max-width":"none","max-height":"none",width:"auto",height:"auto",display:"block"});o.on("error",d);o[0].onerror=d;!function t(){if(o.data("imgLiquid_error")||o.data("imgLiquid_loaded")||o.data("imgLiquid_oldProcessed"))return;r.is(":visible")&&o[0].complete&&o[0].width>0&&o[0].height>0?(o.data("imgLiquid_loaded",!0),setTimeout(c,e*n.delay)):setTimeout(t,n.timecheckvisibility)}();s()}()):d()})}})}(t),e=a.injectCss,i=document.getElementsByTagName("head")[0],(n=document.createElement("style")).type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),i.appendChild(n)}).call(this,i(19))},117:function(t,e,i){"use strict";i.r(e);var n=i(123),a=i(79);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);var o=i(10),s=Object(o.a)(a.default,n.a,n.b,!1,null,null,null);s.options.__file="app/components/common/cardBox.vue",e.default=s.exports},118:function(t,e,i){"use strict";var n=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lucky-draw-box"},this._l(this.validPrizeList,function(t,i){return e("lucky-draw-prize-box",{key:t.sn,attrs:{prizeInfo:t}})}),1)},a=[];n._withStripped=!0,i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},119:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal card-list-modal",attrs:{tabindex:"-1",role:"dialog","data-backdrop":"static","data-keyboard":"false"}},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),i("div",{staticClass:"modal-body"},[t._v("\n                可用數量："+t._s(t.allCnt)+"\n                "),t.usedCnt>t.allCnt?[i("span",{staticStyle:{color:"red"}},[t._v("(已用數量大於可用數量)")])]:t._e(),t._v(" "),t._l(t.validPrizeList,function(e,n){return[e.sn!=t.focuseEditPrizeSN?[i("div",{staticClass:"input-group mb-3"},[i("div",{staticClass:"form-control"},[t._v("\n                                "+t._s(e.title)+" ["+t._s(e.cnt)+"]\n                            ")]),t._v(" "),i("div",{staticClass:"input-group-append"},[i("span",{staticClass:"input-group-text",staticStyle:{cursor:"pointer"},on:{click:function(i){t.openEditPrize(e)}}},[i("i",{staticClass:"far fa-edit"})]),t._v(" "),i("span",{staticClass:"input-group-text",staticStyle:{cursor:"pointer"},on:{click:function(i){t.delEditPrize(e.sn)}}},[i("i",{staticClass:"fas fa-trash-alt"})])])])]:[i("div",{staticClass:"input-group mb-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.editPrize.title,expression:"editPrize.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"編輯獎項"},domProps:{value:t.editPrize.title},on:{input:function(e){e.target.composing||t.$set(t.editPrize,"title",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.editPrize.cnt,expression:"editPrize.cnt"}],staticClass:"form-control",staticStyle:{width:"100px",flex:"none","text-align":"center"},attrs:{type:"number",placeholder:"數量",min:"0",max:t.editMaxCnt,step:"1"},domProps:{value:t.editPrize.cnt},on:{input:function(e){e.target.composing||t.$set(t.editPrize,"cnt",e.target.value)}}}),t._v(" "),i("div",{staticClass:"input-group-append"},[i("span",{staticClass:"input-group-text",staticStyle:{cursor:"pointer"},on:{click:function(i){t.saveEditPrize(e)}}},[i("i",{staticClass:"far fa-save"})])])])]]}),t._v(" "),i("hr"),t._v(" "),0==t.addMaxCnt?[i("button",{staticClass:"btn btn-info btn-block",attrs:{type:"button",disabled:""}},[t._v("新增獎項")])]:[t.addNewFlag?[i("div",{staticClass:"input-group mb-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.addNewPrize.title,expression:"addNewPrize.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"新增獎項"},domProps:{value:t.addNewPrize.title},on:{input:function(e){e.target.composing||t.$set(t.addNewPrize,"title",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.addNewPrize.cnt,expression:"addNewPrize.cnt"}],staticClass:"form-control",staticStyle:{width:"100px",flex:"none","text-align":"center"},attrs:{type:"number",placeholder:"數量",min:"0",max:t.addMaxCnt,step:"1"},domProps:{value:t.addNewPrize.cnt},on:{input:function(e){e.target.composing||t.$set(t.addNewPrize,"cnt",e.target.value)}}}),t._v(" "),i("div",{staticClass:"input-group-append"},[i("span",{staticClass:"input-group-text",staticStyle:{cursor:"pointer"},on:{click:t.saveAddPrize}},[i("i",{staticClass:"far fa-save"})])])])]:[i("button",{staticClass:"btn btn-info btn-block",attrs:{type:"button"},on:{click:function(e){t.openAddPrize(!0)}}},[t._v("新增獎項")])]]],2)])])])},a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[e("i",{staticClass:"fas fa-award"}),this._v("\n                    獎項名單\n                ")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}];n._withStripped=!0,i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},120:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal card-list-modal",attrs:{tabindex:"-1",role:"dialog","data-backdrop":"static","data-keyboard":"false"}},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),i("div",{staticClass:"modal-body"},[i("form",[i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("網站標題")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.input.webTitle,expression:"input.webTitle"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.input.webTitle},on:{input:function(e){e.target.composing||t.$set(t.input,"webTitle",e.target.value)}}})]),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("圖片大小 ["+t._s(t.input.boxSize)+" px]")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.input.boxSize,expression:"input.boxSize"}],staticClass:"form-control",attrs:{type:"range",min:"100",max:"200"},domProps:{value:t.input.boxSize},on:{__r:function(e){t.$set(t.input,"boxSize",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("圖片隨機速度 ["+t._s(t.input.randomDrawWait)+" ms]")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.input.randomDrawWait,expression:"input.randomDrawWait"}],staticClass:"form-control",attrs:{type:"range",min:"10",max:"500"},domProps:{value:t.input.randomDrawWait},on:{__r:function(e){t.$set(t.input,"randomDrawWait",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("圖片抽取速度 ["+t._s(t.input.drawNextWait)+" ms]")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.input.drawNextWait,expression:"input.drawNextWait"}],staticClass:"form-control",attrs:{type:"range",min:"700",max:"1500"},domProps:{value:t.input.drawNextWait},on:{__r:function(e){t.$set(t.input,"drawNextWait",e.target.value)}}})])])]),t._v(" "),i("div",{staticClass:"modal-footer"},[i("div",{staticClass:"col-6 text-left"},[i("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.clear}},[t._v("清除所有資料")])]),t._v(" "),i("div",{staticClass:"col-6 text-right"},[i("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:t.cancel}},[t._v("回復")]),t._v(" "),i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.save}},[t._v("儲存")])])])])])])},a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[e("i",{staticClass:"fas fa-award"}),this._v("\n                    設定\n                ")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}];n._withStripped=!0,i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},121:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal card-list-modal",attrs:{tabindex:"-1",role:"dialog","data-backdrop":"static","data-keyboard":"false"}},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),i("div",{staticClass:"modal-body"},[i("table",{staticClass:"table"},[t._m(1),t._v(" "),i("tbody",[t._l(t.cardListByPrize,function(e,n){return[i("tr",[i("td",{staticStyle:{width:"15%"}},[t._v(t._s(e.sn))]),t._v(" "),i("td",{staticStyle:{width:"20%"}},[i("div",{staticStyle:{width:"100px",height:"100px"}},[i("card-box",{attrs:{cardSN:e.sn}})],1)]),t._v(" "),i("td",{staticStyle:{width:"30%"}},[t._v(t._s(e.title))]),t._v(" "),i("td",[t._v(t._s(e.award.join("、")))])])]})],2)])]),t._v(" "),i("div",{staticClass:"modal-footer"},[i("div",{staticClass:"col-6 text-left"}),t._v(" "),i("div",{staticClass:"col-6 text-right"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.download}},[t._v("下載")])])])])])])},a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[e("i",{staticClass:"fas fa-award"}),this._v("\n                    開獎結果\n                ")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticStyle:{width:"15%"}},[this._v("#")]),this._v(" "),e("th",{staticStyle:{width:"20%"}},[this._v("卡片")]),this._v(" "),e("th",{staticStyle:{width:"30%"}},[this._v("名稱")]),this._v(" "),e("th",[this._v("獎項")])])])}];n._withStripped=!0,i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},122:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal card-list-modal",attrs:{tabindex:"-1",role:"dialog","data-backdrop":"static","data-keyboard":"false"}},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),i("div",{staticClass:"modal-body"},[t._l(t.validCardList,function(e,n){return[t.focuseEditCardSN!==e.sn?[i("div",{key:n,staticClass:"edit-card-box"},[i("div",{staticClass:"row align-items-center"},[i("div",{staticClass:"col-3"},[i("div",{staticClass:"preview-card-img imgLiquidFill"},[i("img",{attrs:{src:e.img}})])]),t._v(" "),i("div",{staticClass:"col-6"},[i("h5",[t._v(t._s(e.title||"無設定圖片名稱"))])]),t._v(" "),i("div",{staticClass:"col-3"},[i("button",{attrs:{type:"btn btn-info"},on:{click:function(i){t.openEditCard(e)}}},[i("i",{staticClass:"far fa-edit"})]),t._v(" "),i("button",{attrs:{type:"btn btn-info"},on:{click:function(i){t.delEditCard(e.sn)}}},[i("i",{staticClass:"fas fa-trash-alt"})])])])])]:[i("div",{staticClass:"edit-card-box"},[i("div",{staticClass:"preview-card-img imgLiquidFill"},[i("img",{attrs:{src:t.editCard.img}})]),t._v(" "),i("div",{staticClass:"input-group mb-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.editCard.img,expression:"editCard.img"}],staticClass:"form-control",attrs:{type:"text",placeholder:"新增的圖卡網址"},domProps:{value:t.editCard.img},on:{input:function(e){e.target.composing||t.$set(t.editCard,"img",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.editCard.title,expression:"editCard.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"新增的圖卡名稱"},domProps:{value:t.editCard.title},on:{input:function(e){e.target.composing||t.$set(t.editCard,"title",e.target.value)}}}),t._v(" "),i("div",{staticClass:"input-group-append"},[i("span",{staticClass:"input-group-text",staticStyle:{cursor:"pointer"},on:{click:function(i){t.saveEditCard(e)}}},[i("i",{staticClass:"far fa-save"})])])])])]]}),t._v(" "),i("hr"),t._v(" "),t.addNewFlag?[i("div",{staticClass:"edit-card-box"},[i("div",{staticClass:"preview-card-img imgLiquidFill"},[i("img",{attrs:{src:t.addNewCard.img}})]),t._v(" "),i("div",{staticClass:"input-group mb-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.addNewCard.img,expression:"addNewCard.img"}],staticClass:"form-control",attrs:{type:"text",placeholder:"新增的圖卡網址"},domProps:{value:t.addNewCard.img},on:{input:function(e){e.target.composing||t.$set(t.addNewCard,"img",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.addNewCard.title,expression:"addNewCard.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"新增的圖卡名稱"},domProps:{value:t.addNewCard.title},on:{input:function(e){e.target.composing||t.$set(t.addNewCard,"title",e.target.value)}}}),t._v(" "),i("div",{staticClass:"input-group-append"},[i("span",{staticClass:"input-group-text",staticStyle:{cursor:"pointer"},on:{click:t.saveAddCard}},[i("i",{staticClass:"far fa-save"})])])])])]:[i("button",{staticClass:"btn btn-info btn-block",attrs:{type:"button"},on:{click:function(e){t.openAddCard(!0)}}},[t._v("新增圖卡")])]],2)])])])},a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[e("i",{staticClass:"far fa-image"}),this._v("\n                    編輯圖卡\n                ")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}];n._withStripped=!0,i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},123:function(t,e,i){"use strict";var n=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-box-wrapper imgLiquidFill"},[!1!==this.cardSN?e("img",{attrs:{src:this.cardList[this.cardSN].img}}):this._e()])},a=[];n._withStripped=!0,i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},124:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lucky-draw-prize-box"},[i("div",{staticClass:"prize-header"},[i("div",{staticClass:"prize-title"},[t._v(t._s(t.prizeInfo.title))]),t._v(" "),i("div",{staticClass:"prize-button"},[i("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button",disabled:!t.luckyDrawBool},on:{click:t.drawIt}},[t._v("\n                抽一把\n            ")])])]),t._v(" "),i("div",{staticClass:"prize-draw-content"},[t.drawing?t._e():[t._l(t.cardIds,function(e,n){return[i("div",{staticClass:"card-box",class:{empty:!1===e},style:{width:t.config.boxSize+"px",height:t.config.boxSize+"px"}},[i("card-box",{key:n,attrs:{cardSN:e}})],1)]})],t._v(" "),t.drawing?[t._l(t.cardIds,function(e,n){return[i("div",{staticClass:"card-box",class:{empty:!1===e},style:{width:t.config.boxSize+"px",height:t.config.boxSize+"px"}},[i("card-box",{directives:[{name:"show",rawName:"v-show",value:!1===e,expression:"cardSN === false"}],key:!1,attrs:{cardSN:!1}}),t._v(" "),t._l(t.validCardList,function(t,n){return[i("card-box",{directives:[{name:"show",rawName:"v-show",value:e==t.sn,expression:"cardSN == cardInfo.sn"}],key:n,attrs:{cardSN:t.sn}})]})],2)]})]:t._e()],2)])},a=[];n._withStripped=!0,i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},162:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mixpanel=e.history_route=e.string=void 0;var n=o(i(163)),a=o(i(379)),r=o(i(380));function o(t){return t&&t.__esModule?t:{default:t}}var s={string:n.default,history_route:a.default,mixpanel:r.default};e.string=n.default,e.history_route=a.default,e.mixpanel=r.default;e.default=s},163:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n={VALUE_CREATED:"created",VALUE_UPDATED:"updated",VALUE_DELETED:"deleted",VALUE_UNCHANGED:"unchanged",map:function(t,e){if(this.isFunction(t)||this.isFunction(e))throw"Invalid argument. Function given, object expected.";if(this.isValue(t)||this.isValue(e))return{type:this.compareValues(t,e),data:void 0===t?e:t};var i={};for(var n in t)if(!this.isFunction(t[n])){var a=void 0;void 0!==e[n]&&(a=e[n]),i[n]=this.map(t[n],a)}for(var n in e)this.isFunction(e[n])||void 0!==i[n]||(i[n]=this.map(void 0,e[n]));return i},compareValues:function(t,e){return t===e?this.VALUE_UNCHANGED:this.isDate(t)&&this.isDate(e)&&t.getTime()===e.getTime()?this.VALUE_UNCHANGED:void 0===t?this.VALUE_CREATED:void 0===e?this.VALUE_DELETED:this.VALUE_UPDATED},isFunction:function(t){return"[object Function]"==={}.toString.apply(t)},isArray:function(t){return"[object Array]"==={}.toString.apply(t)},isDate:function(t){return"[object Date]"==={}.toString.apply(t)},isObject:function(t){return"[object Object]"==={}.toString.apply(t)},isValue:function(t){return!this.isObject(t)&&!this.isArray(t)}},a=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="",n=0;n<t;n++)i+=e.charAt(Math.floor(Math.random()*e.length));return i},r=function(t){return t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},o=function t(e,n){e=s(e);var a,r=[];for(a in e)if(e.hasOwnProperty(a)){var o=n?n+"["+a+"]":a,d=e[a];r.push(null!==d&&"object"===(void 0===d?"undefined":i(d))?t(d,o):encodeURIComponent(o)+"="+encodeURIComponent(d))}return r.join("&")},s=function(t){var e,i={},n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);for(n.sort(),e=0;e<n.length;e++)i[n[e]]=t[n[e]];return i},d=function(t){var e={};return t.split("&").forEach(function(t){if(t){var i=(t=t.split("+").join(" ")).indexOf("="),n=i>-1?t.substr(0,i):t,a=null;if(i>-1)try{a=decodeURIComponent(t.substr(i+1))}catch(e){console.log(t.substr(i+1)+" can't decode")}var r=n.indexOf("["),o=null;if(-1==r){try{o=decodeURIComponent(n)}catch(t){console.log(n+" can't decode")}null!=o&&null!=a&&(e[o]=a)}else{var s=n.indexOf("]"),d=(o=null,null);try{o=decodeURIComponent(n.substring(0,r))}catch(t){console.log(n.substring(0,r)+" can't decode")}try{d=decodeURIComponent(n.substring(r+1,s))}catch(t){console.log(n.substring(r+1,s)+" can't decode")}null!=o&&null!=d&&null!=a&&(e[o]||(e[o]=[]),d?e[o][d]=a:e[o].push(a))}}}),e=s(e)},c=function(t){return t=(t=t.replace(/%/g,"％")).replace(/\?/g,"？"),t=encodeURIComponent(t).replace(/%2F/g,"")},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e&&"object"==(void 0===e?"undefined":i(e))&&0!=e.length||(e=["url"]),e.forEach(function(e){switch(e){case"url":t=u(t);break;case"nl2br":t=v(t)}}),t},u=function(t){return t=t.replace(/(https?:\/\/[\w-\.]+(:\d+)?(\/[(\w\/\.\u3000-\u303F\u4e00-\u9fa5\u0080-\uFFEF\+\-%)]*)?(\?\S*)?(#\S*)?)/g,function(t){return'<a class="word-wrap js-outsite-link" href="'+f(t)+'" target="_blank">'+t+"</a>"})},f=function(t){var e=document.createElement("a");return e.href=t,e.href},p=function(e){return t("<textarea/>").html(e).text()},v=function(t,e){return null==t?"":(t+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n|\&\#10\;)/g,"$1"+(e||void 0===e?"<br />":"<br>")+"$2")},m=function(t){var e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),n=parseInt(t-3600*e-60*i),a=[];return a.push(("00"+n).slice(-2)),a.push(("00"+i).slice(-2)),!isNaN(e)&&e>0&&a.push(e),a.reverse().join(":")},g=function(t){var e=t.match(/([A-Z])/g);if(!e)return t;for(var i=t.toString(),n=0,a=e.length;n<a;n++)i=i.replace(new RegExp(e[n]),"_"+e[n].toLowerCase());return"_"===i.slice(0,1)&&(i=i.slice(1)),i},h=function(){var t=Date.now();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?i:3&i|8).toString(16)})},b={deepDiffMapper:n,getRandomString:a,object2QueryStr:o,sortObject:s,getJsonFromUrl:d,formatMoney:r,keywordRemover:c,formatContent:l,formatUrlByParams:function(t,e){for(var i in e){var n=new RegExp("{"+i+"}","ig"),a=t;(t=t.replace(n,e[i]))!=a&&delete e[i]}return e&&Object.keys(e).length>0&&(t+="?"+o(e)),t},getUrlFromContent:function(t){return t.match(/(https?:\/\/[\w-\.]+(:\d+)?(\/[(\w\/\.\u3000-\u303F\u4e00-\u9fa5\u0080-\uFFEF\+\-%)]*)?(\?\S*)?(#\S*)?)/g)},htmlEntityDecode:p,nl2br:v,formatSecond:m,toSnakeCase:g,uuid:h};e.deepDiffMapper=n,e.getRandomString=a,e.object2QueryStr=o,e.sortObject=s,e.getJsonFromUrl=d,e.formatMoney=r,e.keywordRemover=c,e.formatContent=l,e.htmlEntityDecode=p,e.nl2br=v,e.formatSecond=m,e.toSnakeCase=g,e.uuid=h;e.default=b}).call(this,i(19))},365:function(t,e,i){i(125),t.exports=i(366)},366:function(t,e,i){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=p(i(29)),r=(p(i(115)),i(30)),o=i(370),s=(i(162),p(i(382))),d=p(i(383)),c=p(i(384)),l=p(i(385)),u=p(i(389)),f=p(i(390));function p(t){return t&&t.__esModule?t:{default:t}}i(19),i(392);var v=(0,o.createStore)(["common"]);new a.default({el:"#appBox",data:function(){return{popstats:!1}},methods:{init:function(){this.$store.dispatch("initSystem")},saveToLocalStorage:function(){this.$store.dispatch("saveToLocalStorage")}},watch:{shortlist:{deep:!0,handler:function(t,e){this.saveToLocalStorage()}},cardList:{deep:!0,handler:function(t,e){this.saveToLocalStorage()}},prizeList:{deep:!0,handler:function(t,e){this.saveToLocalStorage()}}},computed:n({},(0,r.mapGetters)(["config","cardList","prizeList"])),mounted:function(){this.init()},components:{headerBarBox:s.default,cardListModal:d.default,prizeListModal:c.default,resultModal:l.default,settingModal:u.default,luckyDrawBox:f.default},store:v})},370:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createStore=void 0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=l(i(29)),r=l(i(30)),o=l(i(371)),s=l(i(373)),d=l(i(375)),c=l(i(377));function l(t){return t&&t.__esModule?t:{default:t}}a.default.use(r.default),e.default={};e.createStore=function(t){var e={},i={},a={},l={};return t.forEach(function(t){for(var r=t.split("."),u=n({},o.default),f=n({},s.default),p=n({},d.default),v=n({},c.default);r.length>0;)t=r.shift(),-1==[void 0].indexOf(u[t])&&(u=u[t]),-1==[void 0].indexOf(f[t])&&(f=f[t]),-1==[void 0].indexOf(p[t])&&(p=p[t]),-1==[void 0].indexOf(v[t])&&(v=v[t]);e=Object.assign({},e,u),i=Object.assign({},i,f),a=Object.assign({},a,p),l=Object.assign({},l,v)}),new r.default.Store({actions:e,state:i,mutations:a,getters:l,struct:!0})}},371:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=i(372),o=(n=r)&&n.__esModule?n:{default:n};e.default={common:a({},o.default)}},372:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={initSystem:function(t,e){(0,t.commit)("initSystem",e)},setConfig:function(t,e){(0,t.commit)("setConfig",e)},clearAllData:function(t,e){(0,t.commit)("clearAllData",e)},saveToLocalStorage:function(t,e){(0,t.commit)("saveToLocalStorage",e)},triggerOpenCardListModal:function(t,e){(0,t.commit)("triggerOpenCardListModal",e)},triggerOpenPrizeListModal:function(t,e){(0,t.commit)("triggerOpenPrizeListModal",e)},triggerOpenResultModal:function(t,e){(0,t.commit)("triggerOpenResultModal",e)},triggerOpenSettingModal:function(t,e){(0,t.commit)("triggerOpenSettingModal",e)},saveAddCard:function(t,e){(0,t.commit)("saveAddCard",e)},saveEditCard:function(t,e){(0,t.commit)("saveEditCard",e)},delCardBySN:function(t,e){(0,t.commit)("delCardBySN",e)},saveAddPrize:function(t,e){(0,t.commit)("saveAddPrize",e)},saveEditPrize:function(t,e){(0,t.commit)("saveEditPrize",e)},delEditPrize:function(t,e){(0,t.commit)("delEditPrize",e)},lockDrawIt:function(t,e){(0,t.commit)("lockDrawIt",e)},setCardIdsByPrizeSN:function(t,e){(0,t.commit)("setCardIdsByPrizeSN",e)}}},373:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=i(374),o=(n=r)&&n.__esModule?n:{default:n};e.default={common:a({},o.default)}},374:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={test:!1,triggerOpenCardList:null,triggerOpenPrizeList:null,triggerOpenResult:null,triggerOpenSetting:null,defaultConfig:{webTitle:"Draw Card",boxSize:200,randomDrawWait:80,drawNextWait:1e3},config:{webTitle:"Draw Card",boxSize:200,randomDrawWait:80,drawNextWait:1e3},cardList:[],prizeList:[],lockDrawIt:!1}},375:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=i(376),o=(n=r)&&n.__esModule?n:{default:n};e.default={common:a({},o.default)}},376:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default={initSystem:function(t,e){var i=JSON.parse(JSON.stringify(t.defaultConfig)),r=JSON.parse(localStorage.getItem("drawCardsSetting")),o={},s=[],d=[];r&&(o=r.config||{},s=r.cardList||[],d=r.prizeList||[]),"object"!=(void 0===o?"undefined":a(o))&&(o={}),Array.isArray(s)||(s=[]),Array.isArray(d)||(d=[]),t.config=n({},i,o),t.cardList=s,t.prizeList=d},setConfig:function(t,e){var i=JSON.parse(JSON.stringify(t.config));i=n({},i,e.config),t.config=i},clearAllData:function(t,e){var i=JSON.parse(JSON.stringify(t.defaultConfig));t.config=i,t.cardList=[],t.prizeList=[]},saveToLocalStorage:function(t,e){var i={config:JSON.parse(JSON.stringify(t.config)),cardList:JSON.parse(JSON.stringify(t.cardList)),prizeList:JSON.parse(JSON.stringify(t.prizeList))};localStorage.setItem("drawCardsSetting",JSON.stringify(i))},triggerOpenCardListModal:function(t,e){t.triggerOpenCardList=(new Date).getTime()},triggerOpenPrizeListModal:function(t,e){t.triggerOpenPrizeList=(new Date).getTime()},triggerOpenResultModal:function(t,e){t.triggerOpenResult=(new Date).getTime()},triggerOpenSettingModal:function(t,e){t.triggerOpenSetting=(new Date).getTime()},saveAddCard:function(t,e){var i=JSON.parse(JSON.stringify(t.cardList));i.length,e.cardInfo.title,e.cardInfo.img;i.push({sn:i.length,title:e.cardInfo.title,img:e.cardInfo.img,del:!1}),t.cardList=i},saveEditCard:function(t,e){var i=JSON.parse(JSON.stringify(t.cardList)),n={sn:e.cardInfo.sn,title:e.cardInfo.title,img:e.cardInfo.img};i[n.sn]=n,t.cardList=i},delCardBySN:function(t,e){var i=JSON.parse(JSON.stringify(t.cardList));i[e.sn].del=!0,t.cardList=i},saveAddPrize:function(t,e){var i=JSON.parse(JSON.stringify(t.prizeList)),n={sn:i.length,title:e.prizeInfo.title,cnt:e.prizeInfo.cnt,cardIds:[],del:!1};i.push(n),t.prizeList=i},saveEditPrize:function(t,e){var i=JSON.parse(JSON.stringify(t.prizeList)),a=n({},i[e.prizeInfo.sn],{title:e.prizeInfo.title,cnt:e.prizeInfo.cnt});i[e.prizeInfo.sn]=a,t.prizeList=i},delEditPrize:function(t,e){var i=JSON.parse(JSON.stringify(t.prizeList));i[e.sn].del=!0,t.prizeList=i},lockDrawIt:function(t,e){t.lockDrawIt=e},setCardIdsByPrizeSN:function(t,e){var i=JSON.parse(JSON.stringify(t.prizeList));for(var n in i)console.log(i[n].sn),i[n].sn==e.sn&&(i[n].cardIds=e.cardIds);t.prizeList=i}}},377:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=i(378),o=(n=r)&&n.__esModule?n:{default:n};e.default={common:a({},o.default)}},378:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={config:function(t){return t.config},triggerOpenCardList:function(t){return t.triggerOpenCardList},triggerOpenPrizeList:function(t){return t.triggerOpenPrizeList},triggerOpenResult:function(t){return t.triggerOpenResult},triggerOpenSetting:function(t){return t.triggerOpenSetting},cardList:function(t){return t.cardList},prizeList:function(t){return t.prizeList},validCardList:function(t){var e=JSON.parse(JSON.stringify(t.cardList)).filter(function(t){return!t.del});return e},validPrizeList:function(t){var e=JSON.parse(JSON.stringify(t.prizeList)).filter(function(t){return!t.del});return e},waitCardSN:function(t){var e=JSON.parse(JSON.stringify(t.prizeList)),i=JSON.parse(JSON.stringify(t.cardList)),n=e.reduce(function(t,e){return t.concat(e.cardIds)},[]);return i.filter(function(t){return!n.includes(t.sn)}).map(function(t){return t.sn})},cardListByPrize:function(t){var e=JSON.parse(JSON.stringify(t.cardList)),i={};e.forEach(function(t){t.del||(t.award=[],i[t.sn]=t)}),JSON.parse(JSON.stringify(t.prizeList)).forEach(function(t){t.del||t.cardIds.forEach(function(e){i[e].award.push(t.title)})});var n=[];for(var a in i)n.push(i[a]);return n},lockDrawIt:function(t){return t.lockDrawIt}}},379:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={init:function(t){this.popstate_callback=null,t.callback&&(this.popstate_callback=t.callback),this.baseUrl=location.origin,this.setLocation(),this.setAction()},setAction:function(){var t=this,e=null;window.onpopstate=function(){clearTimeout(e),e=setTimeout(function(){"function"==typeof t.popstate_callback&&(t.popstate_callback(t.location),t.setLocation())},500)}},diffUrl:function(t){var e=this,i=document.createElement("a");i.href=t;var n={pathname:i.pathname,search:i.search.substr(1),hash:i.hash.substr(1)},a=!1;return["pathname","search","hash"].forEach(function(t){n[t]!=e.location[t]&&(a=!0)}),a},pushState:function(t,e,i){this.diffUrl(i)&&(history.pushState(t,e,i),this.setLocation())},replaceState:function(t,e,i){history.replaceState(t,e,i),this.setLocation()},setLocation:function(){this.location={},this.location.pathname=location.pathname.replace(this.baseUrl,""),location.search?this.location.search=location.search.substr(1):this.location.search="",location.hash?this.location.hash=location.hash.substr(1):this.location.hash=""}};e.default=n},380:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n(i(381));function n(t){return t&&t.__esModule?t:{default:t}}var a={data:{identify:"",tabId:n(i(163)).default.getRandomString(10),data:null},waitFunc:[],actWaitFunc:function(){},track:function(t,e){}};e.default=a},382:function(t,e,i){"use strict";i.r(e);var n=i(71);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);var r=i(10),o=Object(r.a)(n.default,void 0,void 0,!1,null,null,null);o.options.__file="app/components/common/headerBarBox.vue",e.default=o.exports},383:function(t,e,i){"use strict";i.r(e);var n=i(122),a=i(73);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);var o=i(10),s=Object(o.a)(a.default,n.a,n.b,!1,null,null,null);s.options.__file="app/components/common/cardListModal.vue",e.default=s.exports},384:function(t,e,i){"use strict";i.r(e);var n=i(119),a=i(75);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);var o=i(10),s=Object(o.a)(a.default,n.a,n.b,!1,null,null,null);s.options.__file="app/components/common/prizeListModal.vue",e.default=s.exports},385:function(t,e,i){"use strict";i.r(e);var n=i(121),a=i(77);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);i(386);var o=i(10),s=Object(o.a)(a.default,n.a,n.b,!1,null,"49337779",null);s.options.__file="app/components/common/resultModal.vue",e.default=s.exports},386:function(t,e,i){"use strict";var n=i(81);i.n(n).a},387:function(t,e,i){(t.exports=i(388)(!1)).push([t.i,"\n.card-box-wrapper[data-v-49337779]{\n    width: 100%;\n    height: 100%;\n}\n",""])},389:function(t,e,i){"use strict";i.r(e);var n=i(120),a=i(82);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);var o=i(10),s=Object(o.a)(a.default,n.a,n.b,!1,null,null,null);s.options.__file="app/components/common/settingModal.vue",e.default=s.exports},390:function(t,e,i){"use strict";i.r(e);var n=i(118),a=i(84);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);var o=i(10),s=Object(o.a)(a.default,n.a,n.b,!1,null,null,null);s.options.__file="app/components/common/luckyDrawBox.vue",e.default=s.exports},391:function(t,e,i){"use strict";i.r(e);var n=i(124),a=i(86);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);var o=i(10),s=Object(o.a)(a.default,n.a,n.b,!1,null,null,null);s.options.__file="app/components/common/luckyDrawPrizeBox.vue",e.default=s.exports},71:function(t,e,i){"use strict";i.r(e);var n=i(72),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},72:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=i(29),o=((n=r)&&n.__esModule,i(30));e.default={data:function(){return{}},methods:{triggerOpenCardListModal:function(){this.$store.dispatch("triggerOpenCardListModal")},triggerOpenPrizeListModal:function(){this.$store.dispatch("triggerOpenPrizeListModal")},triggerOpenResultModal:function(){this.$store.dispatch("triggerOpenResultModal")},triggerOpenSettingModal:function(){this.$store.dispatch("triggerOpenSettingModal")}},watch:{},computed:a({},(0,o.mapGetters)(["validShortlistSN","config"])),mounted:function(){},props:{},components:{}}},73:function(t,e,i){"use strict";i.r(e);var n=i(74),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},74:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n,a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=i(29),o=((n=r)&&n.__esModule,i(30));i(162);var s=null;e.default={data:function(){return{addNewFlag:!1,addNewCard:{img:"",title:""},focuseEditCardSN:null,editCard:{sn:"",img:"",title:""}}},methods:{delEditCard:function(t){if(confirm("您確定要刪除嗎？")){var e={sn:t};this.$store.dispatch("delCardBySN",e)}},openEditCard:function(t){this.focuseEditCardSN=t.sn,this.editCard=a({},t)},saveEditCard:function(t){if(this.editCard.title&&this.editCard.img){var e={cardInfo:{sn:t.sn,img:this.editCard.img,title:this.editCard.title}};this.$store.dispatch("saveEditCard",e),this.focuseEditCardSN=null}},openAddCard:function(t){this.addNewCard={img:"",title:""},this.addNewFlag=t},saveAddCard:function(){if(this.addNewCard.title&&this.addNewCard.img){var t={cardInfo:this.addNewCard};this.$store.dispatch("saveAddCard",t),this.addNewFlag=!1}}},watch:{triggerOpenCardList:function(){s.modal("show")},addNewCard:{deep:!0,handler:function(e,i){t("body").trigger("resizeImg")}},editCard:{deep:!0,handler:function(e,i){t("body").trigger("resizeImg")}},validCardList:function(){t("body").trigger("resizeImg")}},computed:a({},(0,o.mapGetters)(["triggerOpenCardList","validCardList"])),mounted:function(){(s=t(this.$el)).bind("shown.bs.modal",function(){})},props:{},components:{}}}).call(this,i(19))},75:function(t,e,i){"use strict";i.r(e);var n=i(76),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},76:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n,a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=i(29),o=((n=r)&&n.__esModule,i(30));var s=null;e.default={data:function(){return{addNewFlag:!1,addNewPrize:{title:"",cnt:""},focuseEditPrizeSN:null,editPrize:{sn:"",img:"",title:""}}},methods:{openEditPrize:function(t){this.focuseEditPrizeSN=t.sn,this.editPrize=a({},t)},saveEditPrize:function(t){var e={prizeInfo:a({},this.editPrize,{sn:t.sn})};this.$store.dispatch("saveEditPrize",e),this.focuseEditPrizeSN=null},delEditPrize:function(t){var e={sn:t};this.$store.dispatch("delEditPrize",e)},openAddPrize:function(t){this.addNewFlag=t,this.addNewPrize={title:"",cnt:""}},saveAddPrize:function(){if(this.addNewPrize.title&&this.addNewPrize.cnt&&this.addNewPrize.cnt>0){var t={prizeInfo:this.addNewPrize};this.$store.dispatch("saveAddPrize",t),this.addNewFlag=!1}}},watch:{triggerOpenPrizeList:function(){s.modal("show")}},computed:a({allCnt:function(){return this.validCardList.length},usedCnt:function(){var t=0;return this.validPrizeList.forEach(function(e){t+=parseInt(e.cnt)}),t},addMaxCnt:function(){var t=this.validCardList.length;return this.validPrizeList.forEach(function(e){t-=e.cnt}),t},editMaxCnt:function(){var t=this,e=t.validCardList.length;return t.validPrizeList.forEach(function(i){i.sn!=t.focuseEditPrizeSN&&(e-=i.cnt)}),console.log(e),e}},(0,o.mapGetters)(["triggerOpenPrizeList","validCardList","validPrizeList"])),mounted:function(){(s=t(this.$el)).bind("shown.bs.modal",function(){})},props:{},components:{}}}).call(this,i(19))},77:function(t,e,i){"use strict";i.r(e);var n=i(78),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},78:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=(o(i(29)),i(30)),r=o(i(117));function o(t){return t&&t.__esModule?t:{default:t}}var s=null;e.default={data:function(){return{}},methods:{download:function(){var t="編號,圖片名稱,獎項\n"+JSON.parse(JSON.stringify(this.cardListByPrize)).map(function(t){var e=[];return e.push(t.sn),e.push(t.title),t.award.length>0?e.push(t.award.join("、")):e.push("--"),e.join(",")}).join("\r\n"),e=encodeURI("data:text/csv;charset=utf-8,"+t),i=document.createElement("a");i.style.display="none",i.setAttribute("href",e),i.setAttribute("download",this.config.webTitle+"中獎名單.csv"),document.body.appendChild(i),i.click()}},watch:{triggerOpenResult:function(){s.modal("show")}},computed:n({},(0,a.mapGetters)(["triggerOpenResult","cardListByPrize","config"])),mounted:function(){(s=t(this.$el)).bind("shown.bs.modal",function(){})},props:{},components:{cardBox:r.default}}}).call(this,i(19))},79:function(t,e,i){"use strict";i.r(e);var n=i(80),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},80:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n,a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=i(29),o=((n=r)&&n.__esModule,i(30));e.default={data:function(){return{}},methods:{init:function(){t("body").trigger("resizeImg")}},watch:{cardSN:function(){this.init()}},computed:a({},(0,o.mapGetters)(["cardList"])),mounted:function(){this.init()},props:{cardSN:{default:!1}},components:{}}}).call(this,i(19))},81:function(t,e,i){var n=i(387);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(394).default)("1332f6e3",n,!1,{})},82:function(t,e,i){"use strict";i.r(e);var n=i(83),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},83:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=(r(i(29)),i(30));r(i(117));function r(t){return t&&t.__esModule?t:{default:t}}var o=null;e.default={data:function(){return{input:{webTitle:"",boxSize:0,randomDrawWait:0},orgInput:{webTitle:"",boxSize:0,randomDrawWait:0}}},methods:{save:function(){this.input;o.modal("hide")},cancel:function(){var t={config:this.orgInput};this.$store.dispatch("setConfig",t),o.modal("hide")},clear:function(){confirm("您確定要清除所有的資料嗎？")&&(this.$store.dispatch("clearAllData"),o.modal("hide"))}},watch:{input:{deep:!0,handler:function(t,e){var i={config:this.input};this.$store.dispatch("setConfig",i)}},triggerOpenSetting:function(){o.modal("show")}},computed:n({},(0,a.mapGetters)(["triggerOpenSetting","config"])),mounted:function(){var e=this;(o=t(e.$el)).bind("shown.bs.modal",function(){var t=JSON.parse(JSON.stringify(e.config));e.input=n({},e.input,t),e.orgInput=n({},e.orgInput,t)})},props:{},components:{}}}).call(this,i(19))},84:function(t,e,i){"use strict";i.r(e);var n=i(85),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},85:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=(o(i(29)),i(30)),r=o(i(391));function o(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{}},methods:n({},(0,a.mapActions)({})),watch:{},computed:n({},(0,a.mapGetters)(["validPrizeList"])),mounted:function(){},props:{},components:{luckyDrawPrizeBox:r.default}}},86:function(t,e,i){"use strict";i.r(e);var n=i(87),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e.default=a.a},87:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=(o(i(29)),i(30)),r=o(i(117));function o(t){return t&&t.__esModule?t:{default:t}}var s=null,d=null;e.default={data:function(){return{cardIds:[],drawing:!1,focusIndex:!1}},methods:{drawIt:function(){this.actionDraw()},actionDraw:function(){var t=this;clearTimeout(s),t.drawing=!0,t.$store.dispatch("lockDrawIt",!0);var e=JSON.parse(JSON.stringify(t.cardIds));for(var i in t.focusIndex=!1,e)if(!1===e[i]){t.focusIndex=parseInt(i);break}if(!1===t.focusIndex){t.$store.dispatch("lockDrawIt",!1);var n={sn:t.prizeInfo.sn,cardIds:t.cardIds};return t.$store.dispatch("setCardIdsByPrizeSN",n),!1}s=setInterval(function(){var e=t.canUseCardSN.length;if(e>0){var i=Math.pow(10,(e+"").length),n=parseInt(Math.random()*i%e),a=JSON.parse(JSON.stringify(t.cardIds));a[t.focusIndex]=t.canUseCardSN[n],t.cardIds=a}else clearTimeout(s),t.drawNext()},t.config.randomDrawWait),d=setTimeout(function(){t.drawNext()},t.config.drawNextWait)},drawNext:function(){clearTimeout(d),this.focusIndex+=1,this.actionDraw()},formatPrizeInfo:function(){for(var t=JSON.parse(JSON.stringify(this.prizeInfo.cardIds)),e=t.length;e<this.prizeInfo.cnt;e++)t.push(!1);this.cardIds=t}},watch:{prizeInfo:function(){this.formatPrizeInfo()}},computed:n({luckyDrawBool:function(){var t=!0;return(0==this.prizeInfo.cnt||this.drawing||this.lockDrawIt)&&(t=!1),t},canUseCardSN:function(){var t=this;return t.waitCardSN.filter(function(e){return!t.cardIds.includes(e)})}},(0,a.mapGetters)(["validPrizeList","validCardList","waitCardSN","lockDrawIt","config"])),mounted:function(){this.formatPrizeInfo()},props:{prizeInfo:{default:{}}},components:{cardBox:r.default}}}});